<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>typescript 入门教程 | 戡玉的个人博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="业精于勤荒于嬉，行成于思毁于随">
    
    <link rel="preload" href="/personal-blog/assets/css/0.styles.c9c35cbb.css" as="style"><link rel="preload" href="/personal-blog/assets/js/app.54808727.js" as="script"><link rel="preload" href="/personal-blog/assets/js/2.2104ac0c.js" as="script"><link rel="preload" href="/personal-blog/assets/js/48.8bd2281d.js" as="script"><link rel="prefetch" href="/personal-blog/assets/js/10.dfa39589.js"><link rel="prefetch" href="/personal-blog/assets/js/100.fe479444.js"><link rel="prefetch" href="/personal-blog/assets/js/101.0482c9d9.js"><link rel="prefetch" href="/personal-blog/assets/js/102.0c6f2fe4.js"><link rel="prefetch" href="/personal-blog/assets/js/103.c3d84fcf.js"><link rel="prefetch" href="/personal-blog/assets/js/104.58960641.js"><link rel="prefetch" href="/personal-blog/assets/js/105.61182d5e.js"><link rel="prefetch" href="/personal-blog/assets/js/106.e5772135.js"><link rel="prefetch" href="/personal-blog/assets/js/11.7c0ec8a5.js"><link rel="prefetch" href="/personal-blog/assets/js/12.d4bbe57e.js"><link rel="prefetch" href="/personal-blog/assets/js/13.c053dc1c.js"><link rel="prefetch" href="/personal-blog/assets/js/14.8e7b7b65.js"><link rel="prefetch" href="/personal-blog/assets/js/15.d8eddf95.js"><link rel="prefetch" href="/personal-blog/assets/js/16.d1c32f9a.js"><link rel="prefetch" href="/personal-blog/assets/js/17.8dcffe71.js"><link rel="prefetch" href="/personal-blog/assets/js/18.9f98c4fd.js"><link rel="prefetch" href="/personal-blog/assets/js/19.779ebecd.js"><link rel="prefetch" href="/personal-blog/assets/js/20.38e30eca.js"><link rel="prefetch" href="/personal-blog/assets/js/21.0d980da0.js"><link rel="prefetch" href="/personal-blog/assets/js/22.84b4a4fd.js"><link rel="prefetch" href="/personal-blog/assets/js/23.b4ab9811.js"><link rel="prefetch" href="/personal-blog/assets/js/24.d47a655e.js"><link rel="prefetch" href="/personal-blog/assets/js/25.e2a76c2e.js"><link rel="prefetch" href="/personal-blog/assets/js/26.ed604d8a.js"><link rel="prefetch" href="/personal-blog/assets/js/27.f494f613.js"><link rel="prefetch" href="/personal-blog/assets/js/28.323a23f3.js"><link rel="prefetch" href="/personal-blog/assets/js/29.dae6be78.js"><link rel="prefetch" href="/personal-blog/assets/js/3.3ace1f43.js"><link rel="prefetch" href="/personal-blog/assets/js/30.b4124c31.js"><link rel="prefetch" href="/personal-blog/assets/js/31.a8135b1c.js"><link rel="prefetch" href="/personal-blog/assets/js/32.5d0a8eca.js"><link rel="prefetch" href="/personal-blog/assets/js/33.1c2223d1.js"><link rel="prefetch" href="/personal-blog/assets/js/34.c366a736.js"><link rel="prefetch" href="/personal-blog/assets/js/35.0e751049.js"><link rel="prefetch" href="/personal-blog/assets/js/36.0762e553.js"><link rel="prefetch" href="/personal-blog/assets/js/37.b7efb722.js"><link rel="prefetch" href="/personal-blog/assets/js/38.af4eb3e8.js"><link rel="prefetch" href="/personal-blog/assets/js/39.aff6f680.js"><link rel="prefetch" href="/personal-blog/assets/js/4.0da6f242.js"><link rel="prefetch" href="/personal-blog/assets/js/40.60f328a4.js"><link rel="prefetch" href="/personal-blog/assets/js/41.219c09a6.js"><link rel="prefetch" href="/personal-blog/assets/js/42.565f9cac.js"><link rel="prefetch" href="/personal-blog/assets/js/43.379d77a8.js"><link rel="prefetch" href="/personal-blog/assets/js/44.20217a97.js"><link rel="prefetch" href="/personal-blog/assets/js/45.237b7a0e.js"><link rel="prefetch" href="/personal-blog/assets/js/46.28ab280b.js"><link rel="prefetch" href="/personal-blog/assets/js/47.60892ffe.js"><link rel="prefetch" href="/personal-blog/assets/js/49.bf83154b.js"><link rel="prefetch" href="/personal-blog/assets/js/5.d2d4fe89.js"><link rel="prefetch" href="/personal-blog/assets/js/50.91741583.js"><link rel="prefetch" href="/personal-blog/assets/js/51.99b082c1.js"><link rel="prefetch" href="/personal-blog/assets/js/52.2bf6d39b.js"><link rel="prefetch" href="/personal-blog/assets/js/53.d1fba456.js"><link rel="prefetch" href="/personal-blog/assets/js/54.f3092355.js"><link rel="prefetch" href="/personal-blog/assets/js/55.3bb9cf0f.js"><link rel="prefetch" href="/personal-blog/assets/js/56.f5b8f73b.js"><link rel="prefetch" href="/personal-blog/assets/js/57.566bd46c.js"><link rel="prefetch" href="/personal-blog/assets/js/58.39b49b57.js"><link rel="prefetch" href="/personal-blog/assets/js/59.842e6f13.js"><link rel="prefetch" href="/personal-blog/assets/js/6.e5fd8ee2.js"><link rel="prefetch" href="/personal-blog/assets/js/60.19d037fe.js"><link rel="prefetch" href="/personal-blog/assets/js/61.2632b4cf.js"><link rel="prefetch" href="/personal-blog/assets/js/62.d5d62d8a.js"><link rel="prefetch" href="/personal-blog/assets/js/63.d1965121.js"><link rel="prefetch" href="/personal-blog/assets/js/64.86c602c4.js"><link rel="prefetch" href="/personal-blog/assets/js/65.a2ca0229.js"><link rel="prefetch" href="/personal-blog/assets/js/66.9698b9fd.js"><link rel="prefetch" href="/personal-blog/assets/js/67.4dc73101.js"><link rel="prefetch" href="/personal-blog/assets/js/68.6c0b652f.js"><link rel="prefetch" href="/personal-blog/assets/js/69.31150528.js"><link rel="prefetch" href="/personal-blog/assets/js/7.a49016c2.js"><link rel="prefetch" href="/personal-blog/assets/js/70.d8cad0d6.js"><link rel="prefetch" href="/personal-blog/assets/js/71.4e2d81f7.js"><link rel="prefetch" href="/personal-blog/assets/js/72.3538be59.js"><link rel="prefetch" href="/personal-blog/assets/js/73.9cbed57e.js"><link rel="prefetch" href="/personal-blog/assets/js/74.3d351af3.js"><link rel="prefetch" href="/personal-blog/assets/js/75.254cd25e.js"><link rel="prefetch" href="/personal-blog/assets/js/76.79da9532.js"><link rel="prefetch" href="/personal-blog/assets/js/77.ee3cee56.js"><link rel="prefetch" href="/personal-blog/assets/js/78.9ff41f22.js"><link rel="prefetch" href="/personal-blog/assets/js/79.04a747d3.js"><link rel="prefetch" href="/personal-blog/assets/js/8.6cc2fa0d.js"><link rel="prefetch" href="/personal-blog/assets/js/80.03613ef9.js"><link rel="prefetch" href="/personal-blog/assets/js/81.236324c2.js"><link rel="prefetch" href="/personal-blog/assets/js/82.0e523347.js"><link rel="prefetch" href="/personal-blog/assets/js/83.9ac769fb.js"><link rel="prefetch" href="/personal-blog/assets/js/84.b8526c67.js"><link rel="prefetch" href="/personal-blog/assets/js/85.47a47733.js"><link rel="prefetch" href="/personal-blog/assets/js/86.7be58ea9.js"><link rel="prefetch" href="/personal-blog/assets/js/87.93c8bfc5.js"><link rel="prefetch" href="/personal-blog/assets/js/88.b3272b0c.js"><link rel="prefetch" href="/personal-blog/assets/js/89.9a7989e6.js"><link rel="prefetch" href="/personal-blog/assets/js/9.b1156cdc.js"><link rel="prefetch" href="/personal-blog/assets/js/90.90f13c00.js"><link rel="prefetch" href="/personal-blog/assets/js/91.fb4679c1.js"><link rel="prefetch" href="/personal-blog/assets/js/92.eeeaff8c.js"><link rel="prefetch" href="/personal-blog/assets/js/93.0fafdb8f.js"><link rel="prefetch" href="/personal-blog/assets/js/94.cf391eb0.js"><link rel="prefetch" href="/personal-blog/assets/js/95.39c6f8ec.js"><link rel="prefetch" href="/personal-blog/assets/js/96.db05ff28.js"><link rel="prefetch" href="/personal-blog/assets/js/97.96b6fd68.js"><link rel="prefetch" href="/personal-blog/assets/js/98.8b5bfa79.js"><link rel="prefetch" href="/personal-blog/assets/js/99.6b021a6a.js">
    <link rel="stylesheet" href="/personal-blog/assets/css/0.styles.c9c35cbb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/personal-blog/" class="home-link router-link-active"><!----> <span class="site-name">戡玉的个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/personal-blog/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/personal-blog/code/" class="nav-link router-link-active">
  技术
</a></div><div class="nav-item"><a href="/personal-blog/about/" class="nav-link">
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/personal-blog/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/personal-blog/code/" class="nav-link router-link-active">
  技术
</a></div><div class="nav-item"><a href="/personal-blog/about/" class="nav-link">
  关于
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>文章</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>书籍</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>教程</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/personal-blog/code/note/tutorials/1.html" aria-current="page" class="active sidebar-link">typescript 入门教程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#基础" class="sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#布尔值" class="sidebar-link">布尔值</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#数值" class="sidebar-link">数值</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#字符串" class="sidebar-link">字符串</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#无值" class="sidebar-link">无值</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#空值" class="sidebar-link">空值</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#任意值" class="sidebar-link">任意值</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#联合" class="sidebar-link">联合</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#对象" class="sidebar-link">对象</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#数组" class="sidebar-link">数组</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#函数" class="sidebar-link">函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#进阶" class="sidebar-link">进阶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#类型推断" class="sidebar-link">类型推断</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#类型断言" class="sidebar-link">类型断言</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#类型别名" class="sidebar-link">类型别名</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#字符串字面量类型" class="sidebar-link">字符串字面量类型</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#元祖-tuple" class="sidebar-link">元祖 Tuple</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#枚举" class="sidebar-link">枚举</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#类" class="sidebar-link">类</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#类与接口" class="sidebar-link">类与接口</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#泛型" class="sidebar-link">泛型</a></li></ul></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#声明文件" class="sidebar-link">声明文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#概要" class="sidebar-link">概要</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#声明合并" class="sidebar-link">声明合并</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#书写声明文件" class="sidebar-link">书写声明文件</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#发布声明文件" class="sidebar-link">发布声明文件</a></li><li class="sidebar-sub-header"><a href="/personal-blog/code/note/tutorials/1.html#内置对象的声明文件" class="sidebar-link">内置对象的声明文件</a></li></ul></li></ul></li><li><a href="/personal-blog/code/note/tutorials/2.html" class="sidebar-link">mysql 基础教程</a></li><li><a href="/personal-blog/code/note/tutorials/3.html" class="sidebar-link">vue 技术揭秘</a></li><li><a href="/personal-blog/code/note/tutorials/4.html" class="sidebar-link">nodejs 菜鸟教程</a></li><li><a href="/personal-blog/code/note/tutorials/5.html" class="sidebar-link">深入理解 javascript 原型和闭包</a></li><li><a href="/personal-blog/code/note/tutorials/6.html" class="sidebar-link">深入理解 javascirpt 系列</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>专栏</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>文档</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>总结</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript-入门教程"><a href="#typescript-入门教程" class="header-anchor">#</a> typescript 入门教程</h1> <h2 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h2> <h3 id="布尔值"><a href="#布尔值" class="header-anchor">#</a> 布尔值</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> isDone<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="数值"><a href="#数值" class="header-anchor">#</a> 数值</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> decLiteral<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="无值"><a href="#无值" class="header-anchor">#</a> 无值</h3> <p>1.示例</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myName<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myName<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</code></pre></div><p>2.null/undefined 是所有类型的子类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> val<span class="token operator">:</span> 其它类型 <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="空值"><a href="#空值" class="header-anchor">#</a> 空值</h3> <p>1.关键字为 void，只能被赋值 undefined 和 null</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> unusable<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="任意值"><a href="#任意值" class="header-anchor">#</a> 任意值</h3> <p>1.可以赋值为任意类型的值（没有类型限制）</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
</code></pre></div><p>2.对任意值进行任何操作，返回值类型都是任意值</p> <p>3.变量声明时，如果未指定类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// a.未赋值，则会默认为any类型</span>
<span class="token keyword">let</span> something<span class="token punctuation">;</span>
something <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
something <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>

<span class="token comment">// b.赋值了，则会被类型推断为所赋值的类型</span>
<span class="token keyword">let</span> myFavoriteNumber <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">// 会报错</span>
</code></pre></div><h3 id="联合"><a href="#联合" class="header-anchor">#</a> 联合</h3> <p>1.表示取值可以为多种类型中的一种</p> <p>2.示例</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
</code></pre></div><p>3.当不确定联合类型变量的类型时，只能访问此联合类型的所有类型里共有的属性或方法</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getString</span><span class="token punctuation">(</span>something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> something<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="对象"><a href="#对象" class="header-anchor">#</a> 对象</h3> <p>1.对象的类型由接口定义</p> <p>2.接口是对行为的抽象，而具体实现则由类去实现</p> <p>3.示例代码</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>4.对象定义时，变量的属性数量/形状必须和接口属性数量/形状保持一致</p> <p>5.可选属性</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>5.可索引属性</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 报错 - 确定属性和可选属性的返回值类型必须和它的返回值类型匹配，或者是它的返回值类型的子集</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  breed<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 错误 - 可索引的属性可以多个，数字索引的返回值必须是字符串索引返回值类型的子类型</span>
<span class="token keyword">interface</span> <span class="token class-name">NotOkay</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> Animal<span class="token punctuation">;</span>
  <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> Dog<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>6.只读属性</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

tom<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">89757</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre></div><h3 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h3> <p>1.类型+方括号表示法</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 会报错</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 会报错</span>
</code></pre></div><p>2.数组泛型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>3.接口表示数组</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">NumberArray</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> fibonacci<span class="token operator">:</span> NumberArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>4.any 数组</p> <ul><li>用 any 表示数组中允许出现任意类型</li> <li>示例</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> list<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;xjh&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token string">&quot;xx&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>5.类数组</p> <ul><li>a.常见的类数组都有自己的接口定义，如 <code>IArguments, NodeList, HTMLCollection</code></li> <li>b.示例</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args<span class="token operator">:</span> IArguments <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <ol><li><p>函数声明</p> <ul><li>示例</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>输入多余/少于要求的参数，是不被允许的</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre></div></li> <li><p>函数表达式</p> <ul><li>示例</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> <span class="token function-variable function">mySum</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>=&gt;</code>用来表示函数的定义，左边是输入类型，需要用括号括起来，右边是输出类型</li></ul></li> <li><p>用接口定义函数的形状</p></li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">SearchFunc</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> subString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> mySearch<span class="token operator">:</span> <span class="token function-variable function">SearchFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> subString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>subString<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li><p>可选参数</p> <ul><li>可选参数，必须接在必需参数后面</li> <li>可选参数，后面不允许再出现必须参数</li></ul></li> <li><p>参数默认值</p> <ul><li>同 ES6</li> <li>会将添加了默认值的参数，识别为可选参数</li> <li>不受&quot;可选参数必须接在必需参数后面&quot;的限制</li></ul></li> <li><p>剩余参数</p> <ul><li>同 ES6</li></ul></li> <li><p>重载</p> <ul><li>允许一个函数接受不同数量或类型的参数时，作出不同的处理</li> <li>示例</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>
      x
        <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x
      <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <ul><li>如果多个函数定义有包含关系，需要优先把精确的定义写在前面</li></ul> <h2 id="进阶"><a href="#进阶" class="header-anchor">#</a> 进阶</h2> <h3 id="类型推断"><a href="#类型推断" class="header-anchor">#</a> 类型推断</h3> <h4 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h4> <ul><li>如果没有明确指定类型，那么 ts 会依照类型推论规则推断出一个类型</li></ul> <h4 id="代码示例"><a href="#代码示例" class="header-anchor">#</a> 代码示例</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">// 报错，因为已推断为字符串</span>
</code></pre></div><h4 id="强调"><a href="#强调" class="header-anchor">#</a> 强调</h4> <ul><li>如果定义的时候没有赋值，会被推断成 any 类型</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="类型断言"><a href="#类型断言" class="header-anchor">#</a> 类型断言</h3> <ol><li>手动指定一个值的类型，然后才可以使用类型对应的方法，否则只能访问公共属性/方法</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>something<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>something<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> something<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li><p>方法</p> <ul><li><p>&lt;类型&gt;值</p></li> <li><p>值 <code>as</code> 类型</p></li></ul></li> <li><p>断言成一个联合类型中不存在的类型是不允许的</p></li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">toBoolean</span><span class="token punctuation">(</span>something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span>something<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="类型别名"><a href="#类型别名" class="header-anchor">#</a> 类型别名</h3> <h4 id="定义-2"><a href="#定义-2" class="header-anchor">#</a> 定义</h4> <ul><li>用来给一个类型起个新名字</li></ul> <h4 id="示例代码"><a href="#示例代码" class="header-anchor">#</a> 示例代码</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Name</span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">NameResolver</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">NameOrResolver</span> <span class="token operator">=</span> Name <span class="token operator">|</span> NameResolver<span class="token punctuation">;</span>
</code></pre></div><h3 id="字符串字面量类型"><a href="#字符串字面量类型" class="header-anchor">#</a> 字符串字面量类型</h3> <h4 id="定义-3"><a href="#定义-3" class="header-anchor">#</a> 定义</h4> <ul><li>用来约束取值只能是某几个字符串中的一个</li></ul> <h4 id="示例代码-2"><a href="#示例代码-2" class="header-anchor">#</a> 示例代码</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">EventNames</span> <span class="token operator">=</span> <span class="token string">&quot;click&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;scroll&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;mousemove&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">handleEvent</span><span class="token punctuation">(</span>ele<span class="token operator">:</span> Element<span class="token punctuation">,</span> event<span class="token operator">:</span> EventNames<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h4> <ul><li>类型别名与字符串字面量类型都是使用 type 进行定义</li></ul> <h3 id="元祖-tuple"><a href="#元祖-tuple" class="header-anchor">#</a> 元祖 Tuple</h3> <h4 id="定义-4"><a href="#定义-4" class="header-anchor">#</a> 定义</h4> <ul><li>数组合并了相同类型的对象，而元组合并了不同类型的对象</li></ul> <h4 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> tom<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="注意-2"><a href="#注意-2" class="header-anchor">#</a> 注意</h4> <p>1.当赋值或访问一个已知索引的元素时，可以只赋值其中一项</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> tom<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
tom<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>2.直接对元祖类型赋值时，需提供所有类型项</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> tom<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
tom <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>3.当添加越界元素时，类型会被限制为定义项的类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> tom<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
tom <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
tom<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;male&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tom<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre></div><h3 id="枚举"><a href="#枚举" class="header-anchor">#</a> 枚举</h3> <h4 id="定义-5"><a href="#定义-5" class="header-anchor">#</a> 定义</h4> <ul><li>用于取值被限定在一定范围内的场景</li></ul> <h4 id="简单示例"><a href="#简单示例" class="header-anchor">#</a> 简单示例</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Days <span class="token punctuation">{</span>
  Sun<span class="token punctuation">,</span>
  Mon<span class="token punctuation">,</span>
  Tue<span class="token punctuation">,</span>
  Wed<span class="token punctuation">,</span>
  Thu<span class="token punctuation">,</span>
  Fri<span class="token punctuation">,</span>
  Sat<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">[</span><span class="token string">&quot;Sun&quot;</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;Sun&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h4 id="手动赋值"><a href="#手动赋值" class="header-anchor">#</a> 手动赋值</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Days <span class="token punctuation">{</span>
  Sun <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span>
  Mon <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  Tue<span class="token punctuation">,</span>
  Wed<span class="token punctuation">,</span>
  Thu<span class="token punctuation">,</span>
  Fri<span class="token punctuation">,</span>
  Sat<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">[</span><span class="token string">&quot;Sun&quot;</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">[</span><span class="token string">&quot;Mon&quot;</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">[</span><span class="token string">&quot;Sat&quot;</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h4 id="说明"><a href="#说明" class="header-anchor">#</a> 说明</h4> <ul><li><p>未手动赋值的枚举项会接着上一个枚举项递增</p></li> <li><p>未手动赋值的枚举项与手动赋值的重复了，ts 不会察觉，后者只会覆盖前者</p></li></ul> <h4 id="枚举项类型"><a href="#枚举项类型" class="header-anchor">#</a> 枚举项类型</h4> <p>1.常数项和计算所得项</p> <p>2.计算所得项·示例</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>
  Red<span class="token punctuation">,</span>
  Green<span class="token punctuation">,</span>
  Blue <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>3.如果紧接在计算所得项后面的是未手动赋值的项，那么它就会因为无法获得初始值而报错</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>
  Red <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
  Green<span class="token punctuation">,</span>
  Blue<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token comment">// 报错</span>
</code></pre></div><h4 id="常数枚举"><a href="#常数枚举" class="header-anchor">#</a> 常数枚举</h4> <p>1.示例代码</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token keyword">enum</span> Directions <span class="token punctuation">{</span>
  Up<span class="token punctuation">,</span>
  Down<span class="token punctuation">,</span>
  Left<span class="token punctuation">,</span>
  Right<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span>
  Directions<span class="token punctuation">.</span>Up<span class="token punctuation">,</span>
  Directions<span class="token punctuation">.</span>Down<span class="token punctuation">,</span>
  Directions<span class="token punctuation">.</span>Left<span class="token punctuation">,</span>
  Directions<span class="token punctuation">.</span>Right<span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//编译结果</span>
</code></pre></div><p>2.常数枚举与普通枚举的区别是，它会在编译阶段被删除，并且不能包含计算成员</p> <h4 id="外部枚举"><a href="#外部枚举" class="header-anchor">#</a> 外部枚举</h4> <p>1.示例代码</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">enum</span> Directions <span class="token punctuation">{</span>
  Up<span class="token punctuation">,</span>
  Down<span class="token punctuation">,</span>
  Left<span class="token punctuation">,</span>
  Right<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span>
  Directions<span class="token punctuation">.</span>Up<span class="token punctuation">,</span>
  Directions<span class="token punctuation">.</span>Down<span class="token punctuation">,</span>
  Directions<span class="token punctuation">.</span>Left<span class="token punctuation">,</span>
  Directions<span class="token punctuation">.</span>Right<span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span>
  Directions<span class="token punctuation">.</span>Up<span class="token punctuation">,</span>
  Directions<span class="token punctuation">.</span>Down<span class="token punctuation">,</span>
  Directions<span class="token punctuation">.</span>Left<span class="token punctuation">,</span>
  Directions<span class="token punctuation">.</span>Right<span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//编译结果</span>
</code></pre></div><p>2.declare 定义的类型只会用于编译时的检查，编译结果中会被删除</p> <p>3.外部枚举与声明语句一样，常出现在声明文件中</p> <h3 id="类"><a href="#类" class="header-anchor">#</a> 类</h3> <h4 id="概言"><a href="#概言" class="header-anchor">#</a> 概言</h4> <ul><li>TS 除了实现了所有 ES6 中的类的功能以外，还添加了一些新的用法</li></ul> <h4 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h4> <ul><li><p><code>public</code> 可被公开访问</p></li> <li><p><code>private</code> 仅供自身访问，子类也不可以访问它的属性/方法</p></li> <li><p><code>protected</code> 受保护的访问，子类可以访问它的属性/方法</p></li></ul> <h4 id="抽象类"><a href="#抽象类" class="header-anchor">#</a> 抽象类</h4> <ul><li><p>用 abstract 关键字定义（抽象类/抽象方法）</p></li> <li><p>不允许被实例化</p></li> <li><p>抽象方法必须被子类实现</p></li> <li><p>抽象类可以包含成员的实现细节</p></li></ul> <h3 id="类与接口"><a href="#类与接口" class="header-anchor">#</a> 类与接口</h3> <h4 id="类实现接口"><a href="#类实现接口" class="header-anchor">#</a> 类实现接口</h4> <ul><li><p>把各层级的类之间共有的特性提取出来进行实现的部分叫接口</p></li> <li><p>接口通过 <code>interface</code> 定义，通过 <code>implements</code> 实现</p></li> <li><p>一个类只能继承一个类，但是可以实现多个接口</p></li> <li><p>接口不会帮你检查类是否具有某些私有成员</p></li> <li><p>接口只会对类的实例部分进行类型检查</p></li></ul> <h4 id="接口继承接口"><a href="#接口继承接口" class="header-anchor">#</a> 接口继承接口</h4> <ul><li>通过 <code>extends</code> 关键字来继承</li></ul> <h4 id="接口继承类"><a href="#接口继承类" class="header-anchor">#</a> 接口继承类</h4> <ul><li>通过 <code>extends</code> 关键字来继承</li> <li>接口继承了拥有私有或受保护成员的类时，这个接口只能被这个类或其子类所实现</li></ul> <h3 id="泛型"><a href="#泛型" class="header-anchor">#</a> 泛型</h3> <h4 id="定义-6"><a href="#定义-6" class="header-anchor">#</a> 定义</h4> <ul><li><p>在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性</p></li> <li><p>示例代码</p></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">createArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token generic-function"><span class="token function">createArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['x', 'x', 'x']</span>
</code></pre></div><h4 id="多个类型参数"><a href="#多个类型参数" class="header-anchor">#</a> 多个类型参数</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">swap</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>tuple<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tuple<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">swap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['seven', 7]</span>
</code></pre></div><h4 id="泛型默认类型"><a href="#泛型默认类型" class="header-anchor">#</a> 泛型默认类型</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">createArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="泛型约束"><a href="#泛型约束" class="header-anchor">#</a> 泛型约束</h4> <ol><li>由于事先不知道它是哪种类型，所以不能随意的操作它的属性或方法</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">loggingIdentity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>对泛型进行约束</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Lengthwise</span> <span class="token punctuation">{</span>
  length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">loggingIdentity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Lengthwise<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>泛型之间也可以相互约束</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">copyFields</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> id <span class="token keyword">in</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span>source<span class="token punctuation">)</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">copyFields</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>在泛型约束中使用类型参数</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getProperty</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">getProperty</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// okay</span>
<span class="token function">getProperty</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">&quot;m&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
</code></pre></div><h4 id="泛型接口"><a href="#泛型接口" class="header-anchor">#</a> 泛型接口</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 写法一</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
  <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">fn</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> test<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> fn<span class="token punctuation">;</span>
test <span class="token operator">&lt;</span> <span class="token builtin">number</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 手动指定-在调用时 传递 泛型参数类型</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 类型推断-在调用时 推断 泛型参数类型</span>

<span class="token comment">// 写法二</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">fn</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> test<span class="token operator">:</span> <span class="token constant">A</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> fn<span class="token punctuation">;</span> <span class="token comment">// 接口定义了需要传递类型参数T，这里为number</span>
test <span class="token operator">&lt;</span> <span class="token builtin">number</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 报错，因为类型定义A&lt;number&gt;已经指定</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错，必须符合接口A&lt;number&gt;参数类型</span>
</code></pre></div><h4 id="泛型类"><a href="#泛型类" class="header-anchor">#</a> 泛型类</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">GenericNumber<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  zeroValue<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
  <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="声明文件"><a href="#声明文件" class="header-anchor">#</a> 声明文件</h2> <h3 id="概要"><a href="#概要" class="header-anchor">#</a> 概要</h3> <ol><li><p>使用第三方库时，需要引用它的声明文件，才能获得对应的代码补全、接口提示等功能</p></li> <li><p>声明语句中只能定义类型，切勿在声明语句中定义具体的实现</p></li> <li><p>示例代码</p></li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">var</span> <span class="token function-variable function">jQuery</span><span class="token operator">:</span> <span class="token punctuation">(</span>selector<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li><p>注意</p> <ul><li><p>带有声明语句的文件即为声明文件</p></li> <li><p>声明文件必需以 .d.ts 为后缀</p></li> <li><p>如果 ts 无法解析声明文件，检查 tsconfig.json 中的 files、include 和 exclude 配置，确保其包含了对应库的 xx.d.ts 文件</p> <p>5.第三方声明文件</p></li> <li><p>通常使用@types 统一管理第三方库的声明文件</p></li> <li><p>示例</p></li></ul> <div class="language-node extra-class"><pre class="language-text"><code>npm install @types/jquery --save-dev
</code></pre></div></li></ol> <h3 id="声明合并"><a href="#声明合并" class="header-anchor">#</a> 声明合并</h3> <ol><li><p>如果定义了两个相同名字的函数、接口或类，那么它们会合并成一个类型</p></li> <li><p>合并的属性类型必须是唯一的</p></li> <li><p>函数合并</p> <ul><li>参考函数重载示例</li></ul></li> <li><p>接口合并</p></li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>
  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>
  weight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>
  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  weight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="5"><li><p>类合并</p> <ul><li>与接口的合并规则一致</li></ul></li></ol> <h3 id="书写声明文件"><a href="#书写声明文件" class="header-anchor">#</a> 书写声明文件</h3> <ol><li><p>声明合并</p> <ul><li><p>一个东西既可以是函数，也可以是对象(拥有子属性)</p></li> <li><p>示例</p></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">jQuery</span><span class="token punctuation">(</span>selector<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">namespace</span> jQuery <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> settings<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>export</p> <ul><li><p>声明文件中禁止定义具体的实现</p></li> <li><p>interface 前是不需要 declare 的</p></li></ul></li> <li><p>export default</p> <ul><li><p>只有 function、class 和 interface 可以直接默认导出，其他变量需先声明，再默认导出</p></li> <li><p>一般会将导出语句放在整个声明文件的最前面</p></li></ul></li> <li><p>commonjs 规范下的 export</p> <ul><li>commonjs 导出</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">module</span><span class="token punctuation">.</span>exports <span class="token operator">=</span> foo<span class="token punctuation">;</span> <span class="token comment">// 整体导出</span>
exports<span class="token punctuation">.</span>bar <span class="token operator">=</span> bar<span class="token punctuation">;</span> <span class="token comment">// 单个导出</span>
</code></pre></div><ul><li><p>在导入方式上，有两种跟 es6 语法相同</p></li> <li><p>官推导入方式（commonjs 下）</p></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> foo <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 整体导入</span>
<span class="token keyword">import</span> bar <span class="token operator">=</span> foo<span class="token punctuation">.</span>bar<span class="token punctuation">;</span> <span class="token comment">// 单个导入</span>
</code></pre></div><ul><li>官推导出方式（commonjs 下）（假如要为它写类型声明文件的话）</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token operator">=</span> foo<span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>两种官推方式都是 ts 为了兼容 AMD 和 commonjs 规范而创立的</li></ul></li> <li><p>UMD 库的导出</p></li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">as</span> <span class="token keyword">namespace</span> <span class="token string">'导出名'</span>
</code></pre></div><ol start="6"><li>在 npm 包/UMD 库中扩展全局变量</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> global <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
    <span class="token function">prependHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="7"><li>模块插件(declare module)</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// index.d.ts声明</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> moment <span class="token keyword">from</span> <span class="token string">&quot;moment&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;moment&quot;</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> moment<span class="token punctuation">.</span>CalendarKey<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.ts使用</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> moment <span class="token keyword">from</span> <span class="token string">&quot;moment&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;moment-plugin&quot;</span><span class="token punctuation">;</span>

moment<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="8"><li><p>声明文件中的依赖</p> <ul><li><p>示例参考&lt;模块插件 index.d.ts 声明&gt;</p></li> <li><p>三斜杠指令</p> <ul><li><p>早期版本中为了描述模块之间的依赖关系而创造的语法</p></li> <li><p>使用场景：书写一个全局变量，并且需要依赖一个全局变量声明文件时</p></li> <li><p>示例</p></li></ul></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">/// &lt;reference types=&quot;jquery&quot; /&gt;</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>options<span class="token operator">:</span> JQuery<span class="token punctuation">.</span>AjaxSettings<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>三斜线指令必须放在文件的最顶端，它前面只允许出现单行或多行注释</p></li> <li><p>拆分声明文件</p> <ul><li>示例</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">/// &lt;reference types=&quot;sizzle&quot; /&gt;</span>
<span class="token comment">/// &lt;reference path=&quot;JQueryStatic.d.ts&quot; /&gt;</span>
<span class="token comment">/// &lt;reference path=&quot;JQuery.d.ts&quot; /&gt;</span>
<span class="token comment">/// &lt;reference path=&quot;misc.d.ts&quot; /&gt;</span>
<span class="token comment">/// &lt;reference path=&quot;legacy.d.ts&quot; /&gt;</span>

<span class="token keyword">export</span> <span class="token operator">=</span> jQuery<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>types 用于声明对另一个库的依赖，path 用于声明对另一个文件的依赖</p></li></ul></li> <li><p>自动生成声明文件</p> <ul><li><p>命令行</p> <ul><li>在命令行中添加--declaration（简写-d）</li></ul></li> <li><p>配置文件</p> <ul><li><p>在 tsconfig.json 中添加 declaration 选项</p></li> <li><p>示例代码</p></li></ul></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lib&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="发布声明文件"><a href="#发布声明文件" class="header-anchor">#</a> 发布声明文件</h3> <ol><li><p>将声明文件和源码放在一起（ts 声明查找也遵循 a=&gt;b=&gt;c）</p> <ul><li><p>package.json 中配置 types 或 typings 字段，指定声明文件</p></li> <li><p>在项目根目录下，放置一个 index.d.ts 声明文件</p></li> <li><p>针对 package.json 的入口文件位置，放置一个声明文件</p></li></ul></li> <li><p>将声明文件发布到@types 下</p> <ul><li>与普通的 npm 模块不同，@types 统一由 DefinitelyTyped 管理</li></ul></li></ol> <h3 id="内置对象的声明文件"><a href="#内置对象的声明文件" class="header-anchor">#</a> 内置对象的声明文件</h3> <ul><li><p>TypeScript 核心库定义中，包含了所有游览器环境用到的类型（ECMAScript，DOM 和 BOM 标准）</p></li> <li><p>TypeScript 核心库定义中，不包含 Nodejs 部分（需要 npm install @types/node --save-dev）</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/personal-blog/code/note/book/5.html" class="prev">
        《javascript 正则表达式迷你书》
      </a></span> <span class="next"><a href="/personal-blog/code/note/tutorials/2.html">
        mysql 基础教程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/personal-blog/assets/js/app.54808727.js" defer></script><script src="/personal-blog/assets/js/2.2104ac0c.js" defer></script><script src="/personal-blog/assets/js/48.8bd2281d.js" defer></script>
  </body>
</html>
